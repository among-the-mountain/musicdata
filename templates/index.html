<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音乐大数据分析可视化系统</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- ECharts Library -->
    <script src="https://unpkg.com/echarts@5.4.3/dist/echarts.min.js"></script>
    <script src="https://unpkg.com/echarts-wordcloud@2.1.0/dist/echarts-wordcloud.min.js"></script>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="navbar-brand">🎵 音乐大数据分析可视化系统</div>
        <ul class="navbar-menu">
            <li><a href="#" class="nav-link active" data-module="overview">数据概览</a></li>
            <li><a href="#" class="nav-link" data-module="trend">发布趋势</a></li>
            <li><a href="#" class="nav-link" data-module="structure">结构分析</a></li>
            <li><a href="#" class="nav-link" data-module="rankings">排行洞察</a></li>
            <li><a href="#" class="nav-link" data-module="wordcloud">词云分析</a></li>
            <li><a href="#" class="nav-link" data-module="sentiment">情感分析</a></li>
        </ul>
    </nav>

    <div class="container">
        <!-- Overview Module -->
        <div class="module active" id="module-overview">
            <div class="cards-grid">
                <!-- Data Overview Card -->
                <div class="interactive-card" data-card="overview-stats">
                    <div class="card-header">
                        <div class="card-icon">📊</div>
                        <h3>数据概览</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看详细统计数据
                    </div>
                    <div class="card-content">
                        <div class="overview-stats">
                            <div class="stat-card">
                                <div class="stat-value" id="total-songs">-</div>
                                <div class="stat-label">歌曲总数</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-artists">-</div>
                                <div class="stat-label">艺术家数量</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-albums">-</div>
                                <div class="stat-label">专辑数量</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="total-comments">-</div>
                                <div class="stat-label">评论总数</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Trend Module -->
        <div class="module" id="module-trend">
            <div class="cards-grid">
                <div class="interactive-card expanded" data-card="trend-chart">
                    <div class="card-header">
                        <div class="card-icon">📈</div>
                        <h3>音乐发布趋势分析</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看发布趋势图表
                    </div>
                    <div class="card-content">
                        <p class="section-description">
                            展示音乐作品随时间的发布趋势，揭示音乐市场的季节性变化和用户偏好演变
                        </p>
                        <div class="chart-container">
                            <div id="trend-chart" style="width: 100%; height: 450px;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Structure Module -->
        <div class="module" id="module-structure">
            <div class="cards-grid">
                <div class="interactive-card" data-card="album-types">
                    <div class="card-header">
                        <div class="card-icon">💿</div>
                        <h3>专辑类型数据分析</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看专辑类型分布
                    </div>
                    <div class="card-content">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            分析不同专辑类型（录音室专辑、现场专辑等）的数据分布
                        </p>
                        <div id="album-types-chart" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
                
                <div class="interactive-card" data-card="music-genres">
                    <div class="card-header">
                        <div class="card-icon">🎼</div>
                        <h3>音乐类型占比分析</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看音乐类型分布
                    </div>
                    <div class="card-content">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            揭示市场主流音乐类型和潜在的音乐趋势
                        </p>
                        <div id="genres-chart" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Rankings Module -->
        <div class="module" id="module-rankings">
            <div class="cards-grid">
                <div class="interactive-card" data-card="top-albums">
                    <div class="card-header">
                        <div class="card-icon">🏆</div>
                        <h3>专辑类型TOP10</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看热门专辑类型排行
                    </div>
                    <div class="card-content">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            展示最受欢迎的专辑类型，为用户提供热门专辑类型推荐
                        </p>
                        <div id="top-albums-chart" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
                
                <div class="interactive-card" data-card="top-artists">
                    <div class="card-header">
                        <div class="card-icon">👨‍🎤</div>
                        <h3>艺术家作品数量TOP5</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看高产艺术家排行
                    </div>
                    <div class="card-content">
                        <p style="color: #666; font-size: 0.9em; margin-bottom: 15px;">
                            展示发布作品数量最多的艺术家，揭示市场活跃的创作者
                        </p>
                        <div id="top-artists-chart" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Word Cloud Module -->
        <div class="module" id="module-wordcloud">
            <div class="cards-grid">
                <div class="interactive-card expanded" data-card="wordcloud">
                    <div class="card-header">
                        <div class="card-icon">☁️</div>
                        <h3>音乐名称词云分析</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看词云可视化
                    </div>
                    <div class="card-content">
                        <p class="section-description">
                            通过词云展示热门音乐名称和关键词，揭示用户关注的音乐热点，为推荐和搜索提供灵感
                        </p>
                        <div id="wordcloud" style="width: 100%; height: 500px;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sentiment Module -->
        <div class="module" id="module-sentiment">
            <div class="cards-grid">
                <div class="interactive-card" data-card="sentiment-chart">
                    <div class="card-header">
                        <div class="card-icon">💭</div>
                        <h3>评论情感分布</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看情感分析图表
                    </div>
                    <div class="card-content">
                        <div id="sentiment-chart" style="width: 100%; height: 400px;"></div>
                    </div>
                </div>
                
                <div class="interactive-card" data-card="sentiment-stats">
                    <div class="card-header">
                        <div class="card-icon">📊</div>
                        <h3>情感统计概览</h3>
                        <span class="expand-icon">▼</span>
                    </div>
                    <div class="card-preview">
                        点击查看详细统计数据
                    </div>
                    <div class="card-content">
                        <div class="sentiment-stats">
                            <div class="sentiment-stat positive">
                                <div class="label">正面评论</div>
                                <div class="value" id="positive-count">-</div>
                                <div class="percentage" id="positive-pct">-%</div>
                            </div>
                            <div class="sentiment-stat neutral">
                                <div class="label">中性评论</div>
                                <div class="value" id="neutral-count">-</div>
                                <div class="percentage" id="neutral-pct">-%</div>
                            </div>
                            <div class="sentiment-stat negative">
                                <div class="label">负面评论</div>
                                <div class="value" id="negative-count">-</div>
                                <div class="percentage" id="negative-pct">-%</div>
                            </div>
                        </div>
                        
                        <div class="sentiment-summary">
                            <h4>情感分析总结</h4>
                            <p>
                                基于用户评论的情感分析显示，大部分用户对音乐作品持有积极态度。
                                情感分析采用先进的自然语言处理技术，能够准确识别用户评论中的情感倾向。
                            </p>
                            <p style="margin-top: 10px; font-size: 0.9em; color: #666;">
                                注：情感分析基于Qwen3-30B-A3B AI模型，提供准确的情感识别能力
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Load Application JavaScript -->
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
